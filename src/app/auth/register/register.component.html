<section id="register-form">
    <div class="label">
        <p>Sign up</p>
    </div>
    <form [formGroup]="form" (ngSubmit)="registerHandler()">
        <div class="form-group">
            <input id="first-name" [ngClass]="{'red' : form.get('firstName')?.errors && form.get('firstName')?.touched}"
                type="text" name="first-name" placeholder="First name" formControlName="firstName">
            <p class="error" *ngIf="form.get('firstName')?.errors?.['required'] && form.get('firstName')?.touched">First
                name is required!</p>
        </div>
        <div class="form-group">
            <input id="last-name" [ngClass]="{'red' : form.get('lastName')?.errors && form.get('lastName')?.touched}"
                type="text" name="last-name" placeholder="Last name" formControlName="lastName">
            <p class="error" *ngIf="form.get('lastName')?.errors?.['required'] && form.get('lastName')?.touched">Last
                name is required!</p>
        </div>
        <div class="form-group">
            <input id="email" [ngClass]="{'red' : form.get('email')?.errors && form.get('email')?.touched}" type="text"
                name="email" placeholder="E-mail" formControlName="email">
            <p class="error" *ngIf="form.get('email')?.errors?.['required'] && form.get('email')?.touched">E-mail is
                required!</p>
            <p class="error" *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched">E-mail is
                invalid!</p>
        </div>

        <div class="form-group">
            <input id="username" [ngClass]="{'red' : form.get('username')?.errors && form.get('username')?.touched}"
                type="text" name="username" placeholder="Username" formControlName="username">
            <p class="error" *ngIf="form.get('username')?.errors?.['required'] && form.get('username')?.touched">
                Username is required!</p>
            <p class="error" *ngIf="form.get('username')?.errors?.['minlength'] && form.get('username')?.touched">
                Username must be at least 6 characters!</p>
        </div>

        <ng-container formGroupName="pass">
            <div class="form-group">
                <input id="pass"
                    [ngClass]="{'red' : form.get('pass')?.get('password')?.errors && form.get('pass')?.get('password')?.touched}"
                    type="password" name="pass" placeholder="Password" formControlName="password">
                <p class="error"
                    *ngIf="form.get('pass')?.get('password')?.errors?.['required'] && form.get('pass')?.get('password')?.touched">
                    Password is required!</p>
                <p class="error"
                    *ngIf="form.get('pass')?.get('password')?.errors?.['minlength'] && form.get('pass')?.get('password')?.touched">
                    Password must be at least 8 characters!</p>
            </div>

            <div class="form-group">
                <input id="repass"
                    [ngClass]="{'red' : form.get('pass')?.errors && form.get('pass')?.get('repass')?.touched}"
                    type="password" name="repass" placeholder="Repeat password" formControlName="repass">
                <p class="error"
                    *ngIf="form.get('pass')?.errors?.['sameValueGroupValidator'] && form.get('pass')?.get('repass')?.touched">
                    Passwords does not match!</p>
            </div>
        </ng-container>

        <button [disabled]="form.invalid">Sign Up</button>
        <p class="server-error" *ngIf="errorMsg">{{errorMsg}}</p>
    </form>
</section>